/*! lightslider - v1.1.6 - 2016-10-25
* https://github.com/sachinchoolur/lightslider
* Copyright (c) 2016 Sachin N; Licensed MIT */
/* v1.1.6-alt - 2020-06-10 - Fixed unsafe-inline css violations - Randall Shaw */
!function (a, b) {
    "use strict"; var c = { item: 3, autoWidth: !1, slideMove: 1, slideMargin: 10, addClass: "", mode: "slide", useCSS: !0, cssEasing: "ease", easing: "linear", speed: 400, auto: !1, pauseOnHover: !1, loop: !1, slideEndAnimation: !0, pause: 2e3, keyPress: !1, controls: !0, prevHtml: "", nextHtml: "", rtl: !1, adaptiveHeight: !1, vertical: !1, verticalHeight: 500, vThumbWidth: 100, thumbItem: 10, pager: !0, gallery: !1, galleryMargin: 5, thumbMargin: 5, currentPagerPosition: "middle", enableTouch: !0, enableDrag: !0, freeMove: !0, swipeThreshold: 40, responsive: [], onBeforeStart: function (a) { }, onSliderLoad: function (a) { }, onBeforeSlide: function (a, b) { }, onAfterSlide: function (a, b) { }, onBeforeNextSlide: function (a, b) { }, onBeforePrevSlide: function (a, b) { } }; a.fn.lightSlider = function (b) {
        if (0 === this.length) return this; if (this.length > 1) return this.each(function () { a(this).lightSlider(b) }), this; var d = {}, e = a.extend(!0, {}, c, b), f = {}, g = this; d.$el = this, "fade" === e.mode && (e.vertical = !1); var h = g.children(), i = a(window).width(), j = null, k = null, l = 0, m = 0, n = !1, o = 0, p = "", q = 0, r = e.vertical === !0 ? "height" : "width", s = e.vertical === !0 ? "margin-bottom" : "margin-right", t = 0, u = 0, v = 0, w = 0, x = null, y = "ontouchstart" in document.documentElement, z = {}; return z.chbreakpoint = function () { if (i = a(window).width(), e.responsive.length) { var b; if (e.autoWidth === !1 && (b = e.item), i < e.responsive[0].breakpoint) for (var c = 0; c < e.responsive.length; c++)i < e.responsive[c].breakpoint && (j = e.responsive[c].breakpoint, k = e.responsive[c]); if ("undefined" != typeof k && null !== k) for (var d in k.settings) k.settings.hasOwnProperty(d) && (("undefined" == typeof f[d] || null === f[d]) && (f[d] = e[d]), e[d] = k.settings[d]); if (!a.isEmptyObject(f) && i > e.responsive[0].breakpoint) for (var g in f) f.hasOwnProperty(g) && (e[g] = f[g]); e.autoWidth === !1 && t > 0 && v > 0 && b !== e.item && (q = Math.round(t / ((v + e.slideMargin) * e.slideMove))) } }, z.calSW = function () { e.autoWidth === !1 && (v = (o - (e.item * e.slideMargin - e.slideMargin)) / e.item) }, z.calWidth = function (a) { var b = a === !0 ? p.find(".lslide").length : h.length; if (e.autoWidth === !1) m = b * (v + e.slideMargin); else { m = 0; for (var c = 0; b > c; c++)m += parseInt(h.eq(c).width()) + e.slideMargin } return m }, d = {
            doCss: function () { var a = function () { for (var a = ["transition", "MozTransition", "WebkitTransition", "OTransition", "msTransition", "KhtmlTransition"], b = document.documentElement, c = 0; c < a.length; c++)if (a[c] in b.style) return !0 }; return e.useCSS && a() ? !0 : !1 }, keyPress: function () { e.keyPress && a(document).on("keyup.lightslider", function (b) { a(":focus").is("input, textarea") || (b.preventDefault ? b.preventDefault() : b.returnValue = !1, 37 === b.keyCode ? g.goToPrevSlide() : 39 === b.keyCode && g.goToNextSlide()) }) }, controls: function () { e.controls && (g.after('<div class="lSAction"><a class="lSPrev">' + e.prevHtml + '</a><a class="lSNext">' + e.nextHtml + "</a></div>"), e.autoWidth ? z.calWidth(!1) < o && p.find(".lSAction").hide() : l <= e.item && p.find(".lSAction").hide(), p.find(".lSAction a").on("click", function (b) { return b.preventDefault ? b.preventDefault() : b.returnValue = !1, "lSPrev" === a(this).attr("class") ? g.goToPrevSlide() : g.goToNextSlide(), !1 })) }, initialStyle: function () { var a = this; "fade" === e.mode && (e.autoWidth = !1, e.slideEndAnimation = !1), e.auto && (e.slideEndAnimation = !1), e.autoWidth && (e.slideMove = 1, e.item = 1), e.loop && (e.slideMove = 1, e.freeMove = !1), e.onBeforeStart.call(this, g), z.chbreakpoint(), g.addClass("lightSlider").wrap('<div class="lSSlideOuter ' + e.addClass + '"><div class="lSSlideWrapper"></div></div>'), p = g.parent(".lSSlideWrapper"), e.rtl === !0 && p.parent().addClass("lSrtl"), e.vertical ? (p.parent().addClass("vertical"), o = e.verticalHeight, p.css("height", o + "px")) : o = g.outerWidth(), h.addClass("lslide"), e.loop === !0 && "slide" === e.mode && (z.calSW(), z.clone = function () { if (z.calWidth(!0) > o) { for (var b = 0, c = 0, d = 0; d < h.length && (b += parseInt(g.find(".lslide").eq(d).width()) + e.slideMargin, c++, !(b >= o + e.slideMargin)); d++); var f = e.autoWidth === !0 ? c : e.item; if (f < g.find(".clone.left").length) for (var i = 0; i < g.find(".clone.left").length - f; i++)h.eq(i).remove(); if (f < g.find(".clone.right").length) for (var j = h.length - 1; j > h.length - 1 - g.find(".clone.right").length; j--)q--, h.eq(j).remove(); for (var k = g.find(".clone.right").length; f > k; k++)g.find(".lslide").eq(k).clone().removeClass("lslide").addClass("clone right").appendTo(g), q++; for (var l = g.find(".lslide").length - g.find(".clone.left").length; l > g.find(".lslide").length - f; l--)g.find(".lslide").eq(l - 1).clone().removeClass("lslide").addClass("clone left").prependTo(g); h = g.children() } else h.hasClass("clone") && (g.find(".clone").remove(), a.move(g, 0)) }, z.clone()), z.sSW = function () { l = h.length, e.rtl === !0 && e.vertical === !1 && (s = "margin-left"), e.autoWidth === !1 && h.css(r, v + "px"), h.css(s, e.slideMargin + "px"), m = z.calWidth(!1), g.css(r, m + "px"), e.loop === !0 && "slide" === e.mode && n === !1 && (q = g.find(".clone.left").length) }, z.calL = function () { h = g.children(), l = h.length }, this.doCss() && p.addClass("usingCss"), z.calL(), "slide" === e.mode ? (z.calSW(), z.sSW(), e.loop === !0 && (t = a.slideValue(), this.move(g, t)), e.vertical === !1 && this.setHeight(g, !1)) : (this.setHeight(g, !0), g.addClass("lSFade"), this.doCss() || (h.fadeOut(0), h.eq(q).fadeIn(0))), e.loop === !0 && "slide" === e.mode ? h.eq(q).addClass("active") : h.first().addClass("active") }, pager: function () {
                var a = this; if (z.createPager = function () {
                    w = (o - (e.thumbItem * e.thumbMargin - e.thumbMargin)) / e.thumbItem; var b = p.find(".lslide"), c = p.find(".lslide").length, d = 0, f = "", h = 0; for (d = 0; c > d; d++) {
                        "slide" === e.mode && (e.autoWidth ? h += (parseInt(b.eq(d).width()) + e.slideMargin) * e.slideMove : h = d * (v + e.slideMargin) * e.slideMove); var i = b.eq(d * e.slideMove).attr("data-thumb"); if (f += e.gallery === !0 ?
/* REPLACE *//* '<li style="width:100%;'+r+":"+w+"px;"+s+":"+e.thumbMargin+'px"><a href="#"><img src="'+i+'" /></a></li>' */'<li class="lSsetCSS"><a href="#"><img src="' + i + '" /></a></li>'
                            : '<li><a href="#">' + (d + 1) + "</a></li>", "slide" === e.mode && h >= m - o - e.slideMargin) { d += 1; var j = 2; e.autoWidth && (f += '<li><a href="#">' + (d + 1) + "</a></li>", j = 1), j > d ? (f = null, p.parent().addClass("noPager")) : p.parent().removeClass("noPager"); break }
                    } var k = p.parent(); k.find(".lSPager").html(f),
/* ADD */k.find(".lSsetCSS").css('width', '100%').css(r, w + 'px').css(s, e.thumbMargin + 'px'),
                        e.gallery === !0 && (e.vertical === !0 && k.find(".lSPager").css("width", e.vThumbWidth + "px"), u = d * (e.thumbMargin + w) + .5, k.find(".lSPager").css({ property: u + "px", "transition-duration": e.speed + "ms" }), e.vertical === !0 && p.parent().css("padding-right", e.vThumbWidth + e.galleryMargin + "px"), k.find(".lSPager").css(r, u + "px")); var l = k.find(".lSPager").find("li"); l.first().addClass("active"), l.on("click", function () { return e.loop === !0 && "slide" === e.mode ? q += l.index(this) - k.find(".lSPager").find("li.active").index() : q = l.index(this), g.mode(!1), e.gallery === !0 && a.slideThumb(), !1 })
                }, e.pager) { var b = "lSpg"; e.gallery && (b = "lSGallery"), p.after('<ul class="lSPager ' + b + '"></ul>'); var c = e.vertical ? "margin-left" : "margin-top"; p.parent().find(".lSPager").css(c, e.galleryMargin + "px"), z.createPager() } setTimeout(function () { z.init() }, 0)
            }, setHeight: function (a, b) { var c = null, d = this; c = e.loop ? a.children(".lslide ").first() : a.children().first(); var f = function () { var d = c.outerHeight(), e = 0, f = d; b && (d = 0, e = 100 * f / o), a.css({ height: d + "px", "padding-bottom": e + "%" }) }; f(), c.find("img").length ? c.find("img")[0].complete ? (f(), x || d.auto()) : c.find("img").on("load", function () { setTimeout(function () { f(), x || d.auto() }, 100) }) : x || d.auto() }, active: function (a, b) { this.doCss() && "fade" === e.mode && p.addClass("on"); var c = 0; if (q * e.slideMove < l) { a.removeClass("active"), this.doCss() || "fade" !== e.mode || b !== !1 || a.fadeOut(e.speed), c = b === !0 ? q : q * e.slideMove; var d, f; b === !0 && (d = a.length, f = d - 1, c + 1 >= d && (c = f)), e.loop === !0 && "slide" === e.mode && (c = b === !0 ? q - g.find(".clone.left").length : q * e.slideMove, b === !0 && (d = a.length, f = d - 1, c + 1 === d ? c = f : c + 1 > d && (c = 0))), this.doCss() || "fade" !== e.mode || b !== !1 || a.eq(c).fadeIn(e.speed), a.eq(c).addClass("active") } else a.removeClass("active"), a.eq(a.length - 1).addClass("active"), this.doCss() || "fade" !== e.mode || b !== !1 || (a.fadeOut(e.speed), a.eq(c).fadeIn(e.speed)) }, move: function (a, b) { e.rtl === !0 && (b = -b), this.doCss() ? a.css(e.vertical === !0 ? { transform: "translate3d(0px, " + -b + "px, 0px)", "-webkit-transform": "translate3d(0px, " + -b + "px, 0px)" } : { transform: "translate3d(" + -b + "px, 0px, 0px)", "-webkit-transform": "translate3d(" + -b + "px, 0px, 0px)" }) : e.vertical === !0 ? a.css("position", "relative").animate({ top: -b + "px" }, e.speed, e.easing) : a.css("position", "relative").animate({ left: -b + "px" }, e.speed, e.easing); var c = p.parent().find(".lSPager").find("li"); this.active(c, !0) }, fade: function () { this.active(h, !1); var a = p.parent().find(".lSPager").find("li"); this.active(a, !0) }, slide: function () { var a = this; z.calSlide = function () { m > o && (t = a.slideValue(), a.active(h, !1), t > m - o - e.slideMargin ? t = m - o - e.slideMargin : 0 > t && (t = 0), a.move(g, t), e.loop === !0 && "slide" === e.mode && (q >= l - g.find(".clone.left").length / e.slideMove && a.resetSlide(g.find(".clone.left").length), 0 === q && a.resetSlide(p.find(".lslide").length))) }, z.calSlide() }, resetSlide: function (a) { var b = this; p.find(".lSAction a").addClass("disabled"), setTimeout(function () { q = a, p.css("transition-duration", "0ms"), t = b.slideValue(), b.active(h, !1), d.move(g, t), setTimeout(function () { p.css("transition-duration", e.speed + "ms"), p.find(".lSAction a").removeClass("disabled") }, 50) }, e.speed + 100) }, slideValue: function () { var a = 0; if (e.autoWidth === !1) a = q * (v + e.slideMargin) * e.slideMove; else { a = 0; for (var b = 0; q > b; b++)a += parseInt(h.eq(b).width()) + e.slideMargin } return a }, slideThumb: function () { var a; switch (e.currentPagerPosition) { case "left": a = 0; break; case "middle": a = o / 2 - w / 2; break; case "right": a = o - w }var b = q - g.find(".clone.left").length, c = p.parent().find(".lSPager"); "slide" === e.mode && e.loop === !0 && (b >= c.children().length ? b = 0 : 0 > b && (b = c.children().length)); var d = b * (w + e.thumbMargin) - a; d + o > u && (d = u - o - e.thumbMargin), 0 > d && (d = 0), this.move(c, d) }, auto: function () { e.auto && (clearInterval(x), x = setInterval(function () { g.goToNextSlide() }, e.pause)) }, pauseOnHover: function () { var b = this; e.auto && e.pauseOnHover && (p.on("mouseenter", function () { a(this).addClass("ls-hover"), g.pause(), e.auto = !0 }), p.on("mouseleave", function () { a(this).removeClass("ls-hover"), p.find(".lightSlider").hasClass("lsGrabbing") || b.auto() })) }, touchMove: function (a, b) { if (p.css("transition-duration", "0ms"), "slide" === e.mode) { var c = a - b, d = t - c; if (d >= m - o - e.slideMargin) if (e.freeMove === !1) d = m - o - e.slideMargin; else { var f = m - o - e.slideMargin; d = f + (d - f) / 5 } else 0 > d && (e.freeMove === !1 ? d = 0 : d /= 5); this.move(g, d) } }, touchEnd: function (a) { if (p.css("transition-duration", e.speed + "ms"), "slide" === e.mode) { var b = !1, c = !0; t -= a, t > m - o - e.slideMargin ? (t = m - o - e.slideMargin, e.autoWidth === !1 && (b = !0)) : 0 > t && (t = 0); var d = function (a) { var c = 0; if (b || a && (c = 1), e.autoWidth) for (var d = 0, f = 0; f < h.length && (d += parseInt(h.eq(f).width()) + e.slideMargin, q = f + c, !(d >= t)); f++); else { var g = t / ((v + e.slideMargin) * e.slideMove); q = parseInt(g) + c, t >= m - o - e.slideMargin && g % 1 !== 0 && q++ } }; a >= e.swipeThreshold ? (d(!1), c = !1) : a <= -e.swipeThreshold && (d(!0), c = !1), g.mode(c), this.slideThumb() } else a >= e.swipeThreshold ? g.goToPrevSlide() : a <= -e.swipeThreshold && g.goToNextSlide() }, enableDrag: function () { var b = this; if (!y) { var c = 0, d = 0, f = !1; p.find(".lightSlider").addClass("lsGrab"), p.on("mousedown", function (b) { return o > m && 0 !== m ? !1 : void ("lSPrev" !== a(b.target).attr("class") && "lSNext" !== a(b.target).attr("class") && (c = e.vertical === !0 ? b.pageY : b.pageX, f = !0, b.preventDefault ? b.preventDefault() : b.returnValue = !1, p.scrollLeft += 1, p.scrollLeft -= 1, p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"), clearInterval(x))) }), a(window).on("mousemove", function (a) { f && (d = e.vertical === !0 ? a.pageY : a.pageX, b.touchMove(d, c)) }), a(window).on("mouseup", function (g) { if (f) { p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"), f = !1, d = e.vertical === !0 ? g.pageY : g.pageX; var h = d - c; Math.abs(h) >= e.swipeThreshold && a(window).on("click.ls", function (b) { b.preventDefault ? b.preventDefault() : b.returnValue = !1, b.stopImmediatePropagation(), b.stopPropagation(), a(window).off("click.ls") }), b.touchEnd(h) } }) } }, enableTouch: function () { var a = this; if (y) { var b = {}, c = {}; p.on("touchstart", function (a) { c = a.originalEvent.targetTouches[0], b.pageX = a.originalEvent.targetTouches[0].pageX, b.pageY = a.originalEvent.targetTouches[0].pageY, clearInterval(x) }), p.on("touchmove", function (d) { if (o > m && 0 !== m) return !1; var f = d.originalEvent; c = f.targetTouches[0]; var g = Math.abs(c.pageX - b.pageX), h = Math.abs(c.pageY - b.pageY); e.vertical === !0 ? (3 * h > g && d.preventDefault(), a.touchMove(c.pageY, b.pageY)) : (3 * g > h && d.preventDefault(), a.touchMove(c.pageX, b.pageX)) }), p.on("touchend", function () { if (o > m && 0 !== m) return !1; var d; d = e.vertical === !0 ? c.pageY - b.pageY : c.pageX - b.pageX, a.touchEnd(d) }) } }, build: function () { var b = this; b.initialStyle(), this.doCss() && (e.enableTouch === !0 && b.enableTouch(), e.enableDrag === !0 && b.enableDrag()), a(window).on("focus", function () { b.auto() }), a(window).on("blur", function () { clearInterval(x) }), b.pager(), b.pauseOnHover(), b.controls(), b.keyPress() }
        }, d.build(), z.init = function () { z.chbreakpoint(), e.vertical === !0 ? (o = e.item > 1 ? e.verticalHeight : h.outerHeight(), p.css("height", o + "px")) : o = p.outerWidth(), e.loop === !0 && "slide" === e.mode && z.clone(), z.calL(), "slide" === e.mode && g.removeClass("lSSlide"), "slide" === e.mode && (z.calSW(), z.sSW()), setTimeout(function () { "slide" === e.mode && g.addClass("lSSlide") }, 1e3), e.pager && z.createPager(), e.adaptiveHeight === !0 && e.vertical === !1 && g.css("height", h.eq(q).outerHeight(!0)), e.adaptiveHeight === !1 && ("slide" === e.mode ? e.vertical === !1 ? d.setHeight(g, !1) : d.auto() : d.setHeight(g, !0)), e.gallery === !0 && d.slideThumb(), "slide" === e.mode && d.slide(), e.autoWidth === !1 ? h.length <= e.item ? p.find(".lSAction").hide() : p.find(".lSAction").show() : z.calWidth(!1) < o && 0 !== m ? p.find(".lSAction").hide() : p.find(".lSAction").show() }, g.goToPrevSlide = function () { if (q > 0) e.onBeforePrevSlide.call(this, g, q), q--, g.mode(!1), e.gallery === !0 && d.slideThumb(); else if (e.loop === !0) { if (e.onBeforePrevSlide.call(this, g, q), "fade" === e.mode) { var a = l - 1; q = parseInt(a / e.slideMove) } g.mode(!1), e.gallery === !0 && d.slideThumb() } else e.slideEndAnimation === !0 && (g.addClass("leftEnd"), setTimeout(function () { g.removeClass("leftEnd") }, 400)) }, g.goToNextSlide = function () { var a = !0; if ("slide" === e.mode) { var b = d.slideValue(); a = b < m - o - e.slideMargin } q * e.slideMove < l - e.slideMove && a ? (e.onBeforeNextSlide.call(this, g, q), q++, g.mode(!1), e.gallery === !0 && d.slideThumb()) : e.loop === !0 ? (e.onBeforeNextSlide.call(this, g, q), q = 0, g.mode(!1), e.gallery === !0 && d.slideThumb()) : e.slideEndAnimation === !0 && (g.addClass("rightEnd"), setTimeout(function () { g.removeClass("rightEnd") }, 400)) }, g.mode = function (a) { e.adaptiveHeight === !0 && e.vertical === !1 && g.css("height", h.eq(q).outerHeight(!0)), n === !1 && ("slide" === e.mode ? d.doCss() && (g.addClass("lSSlide"), "" !== e.speed && p.css("transition-duration", e.speed + "ms"), "" !== e.cssEasing && p.css("transition-timing-function", e.cssEasing)) : d.doCss() && ("" !== e.speed && g.css("transition-duration", e.speed + "ms"), "" !== e.cssEasing && g.css("transition-timing-function", e.cssEasing))), a || e.onBeforeSlide.call(this, g, q), "slide" === e.mode ? d.slide() : d.fade(), p.hasClass("ls-hover") || d.auto(), setTimeout(function () { a || e.onAfterSlide.call(this, g, q) }, e.speed), n = !0 }, g.play = function () { g.goToNextSlide(), e.auto = !0, d.auto() }, g.pause = function () { e.auto = !1, clearInterval(x) }, g.refresh = function () { z.init() }, g.getCurrentSlideCount = function () { var a = q; if (e.loop) { var b = p.find(".lslide").length, c = g.find(".clone.left").length; a = c - 1 >= q ? b + (q - c) : q >= b + c ? q - b - c : q - c } return a + 1 }, g.getTotalSlideCount = function () { return p.find(".lslide").length }, g.goToSlide = function (a) { q = e.loop ? a + g.find(".clone.left").length - 1 : a, g.mode(!1), e.gallery === !0 && d.slideThumb() }, g.destroy = function () { g.lightSlider && (g.goToPrevSlide = function () { }, g.goToNextSlide = function () { }, g.mode = function () { }, g.play = function () { }, g.pause = function () { }, g.refresh = function () { }, g.getCurrentSlideCount = function () { }, g.getTotalSlideCount = function () { }, g.goToSlide = function () { }, g.lightSlider = null, z = { init: function () { } }, g.parent().parent().find(".lSAction, .lSPager").remove(), g.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(), g.children().removeAttr("style"), h.removeClass("lslide active"), g.find(".clone").remove(), h = null, x = null, n = !1, q = 0) }, setTimeout(function () { e.onSliderLoad.call(this, g) }, 10), a(window).on("resize orientationchange", function (a) { setTimeout(function () { a.preventDefault ? a.preventDefault() : a.returnValue = !1, z.init() }, 200) }), this
    }
}(jQuery);
var shareItEmailFormCheck = function (data) { }; var shareItEmailSent = function (data) { }; jQuery(document).ready(function ($) {
    $("a.disabled").click(function (e) { e.preventDefault(); return false; }); if ($("#roundabout").length) {
        var tots = $("#roundabout li").length, csIdx = 0, nsIdx = 0; var slider = $("#roundabout").lightSlider({
            item: 1, autoWidth: false, slideMove: 1, slideMargin: 10, auto: false, loop: false, slideEndAnimation: true, pause: 7000, pauseOnHover: true, thumbItem: 6, pager: true, gallery: true, galleryMargin: 5, thumbMargin: 8, onSliderLoad: function (el) { $(".lSAction").hide(); tots = el.getTotalSlideCount(); $(".video.lslide").each(function (i, el) { var si = $(this).attr('relid'); $(".lSPager li").eq(si).addClass('trailer-overlay'); }); $(".lSAction .lSPrev").html('<svg width="40px" height="40px" viewBox="0 0 40 40"><path class="lSActionArrow" fill="none" stroke="#eeeeee" stroke-width="6" stroke-linecap="butt" d="M29,3 L11,20 L29,37"></path></svg>'); $(".lSAction .lSNext").html('<svg width="40px" height="40px" viewBox="0 0 40 40"><path class="lSActionArrow" fill="none" stroke="#eeeeee" stroke-width="6" stroke-linecap="butt" d="M11,3 L29,20 L11,37"></path></svg>'); }, onBeforeSlide: function (el) { csIdx = (el.getCurrentSlideCount() - 1); }, onAfterSlide: function (el) {
                if ($(".local-player").length) { $(".local-player").each(function () { if (typeof this.pause === 'function') { this.pause(); } }); }
                if ($("iframe.youtube-player").length) { $("iframe.youtube-player").each(function () { this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*'); }); }
            }
        }); slider.numloops = 0; slider.autoPaused = false; slider.autoMove = function () {
            if (this.autoPaused) { return; }
            this.autoNogo = false; $("#roundabout video.local-player").each(function (e) { if (!this.paused) { slider.autoNogo = true; } }); if (typeof ytplaying !== 'undefined' && ytplaying) { if (!this.paused) { slider.autoNogo = true; } }
            if (this.autoNogo) { return; }
            nsIdx = csIdx + 1; if (nsIdx >= tots) { nsIdx = 0; this.numloops++; }
            this.goToSlide(nsIdx); if (this.numloops > 3) { clearInterval(this.autoInterval); clearTimeout(this.autoTimeout); this.numloops = 0; }
        }; slider.autoBegin = function () { slider.autoInterval = setInterval(function () { slider.autoMove(); }, 8000); }; slider.autoReset = function () { clearInterval(slider.autoInterval); clearTimeout(slider.autoTimeout); slider.autoTimeout = setTimeout(function () { slider.autoBegin(); }, 3000); }; slider.autoReset(); $("#roundabout-wrap").on({ mouseup: function () { slider.autoReset(); }, mouseover: function () { slider.autoPaused = true; }, mouseleave: function () { slider.autoPaused = false; } }).on('mouseover', ".lSSlideWrapper", function () { $(".lSAction").show(); }).on('mouseleave', ".lSSlideWrapper", function () { $(".lSAction").hide(); }); $("#roundabout video.local-player").on('click', function (e) { if (typeof InstallTrigger === 'undefined') { if ((e.pageY - $(this).offset().top) > ($(this).height() - 44)) return; this.paused ? this.play() : this.pause(); } }); $("#roundabout li.shot a").on({
            mousedown: function (e) { $(this).removeClass('cb_mm').addClass('cb_md'); }, mousemove: function () { $(this).addClass('cb_mm'); }, click: function (e) {
                e.preventDefault(); if ($(this).hasClass('cb_md') && $(this).hasClass('cb_mm')) { e.stopImmediatePropagation(); }
                $(this).removeClass('cb_md').removeClass('cb_mm');
            }
        }).colorbox({ transition: "none", opacity: 0.7, rel: 'shots', scalePhotos: true, maxWidth: "98%", maxHeight: "98%", initialWidth: "658", initialHeight: "370", fixed: true, returnFocus: false });
    }
    $("#core-guts").on('click', '.flipo', function (e) { e.preventDefault(); e.stopPropagation(); var c = $("#" + $(this).data('wat')); c.slideToggle(); $("sub", $(this).parent()).toggleClass('flipped'); }); $("#side-ratings").on('click', '#slide-wrap', function (e) { e.preventDefault(); e.stopPropagation(); $("#slide-wrap").toggleClass('open'); $("sub", $(this)).toggleClass('flipped'); }); $("#share-on-facebook").click(function (e) { e.preventDefault(); FB.ui({ method: 'share', display: 'popup', href: $(this).data('href'), }, function (response) { }); }); $("#share-on-twitter").click(function (e) { e.preventDefault(); var destination = "https://twitter.com/share"; destination += "?url=" + encodeURIComponent($(this).data('url')); destination += "&text=" + encodeURIComponent($(this).data('text')); destination += "&via=" + encodeURIComponent($(this).data('via')); var windowname = "twitter-share"; var settings = "toolbar=no,menubar=no,copyhistory=no,directories=no,"; settings += "location=no,status=no,resizable=yes,scrollbars=yes,"; settings += "width=600,height=450"; var twitterwindow = window.open(destination, windowname, settings); twitterwindow.focus(); }); $("#share-by-email").click(function (e) { e.preventDefault(); $(this).data('formurl', '/iofunctions/handler.php?f=emailshare&pid=' + $(this).data('pid')); openForm($(this)); }); shareItEmailFormCheck = function () {
        if ($("#id_toemail").val() == '' || $("#id_toemail").val() == 'email@address.com') { $("#id_toemail").addClass('missing').focus(); return "NO"; }
        if ($("#id_fromemail").val() == '' || $("#id_fromemail").val() == 'email@address.com') { $("#id_fromemail").addClass('missing').focus(); return "NO"; }
        return "OK";
    }; shareItEmailSent = function (data) { defaultSuccessCallback(data); }; $(".countdown-timer").each(function () { if ($(this).data('ets')) { var tnow = new Date(); var texp = new Date($(this).data('ets') * 1000); if (texp < tnow) { $("#time-bar").hide(); } else { $(this).countdown({ until: texp, onExpiry: function () { $("#dailydeal").hide(); setTimeout(function () { location.reload(); }, 6000); }, format: 'dhMS', layout: $(this).data('text') + '{d<}{dn}<span class="tiny">d</span> {d>}' + '{h<}{hn}<span class="tiny">h</span> {h>}' + '{m<}{mn}<span class="tiny">m</span> {m>}' + '{s<}{sn}<span class="tiny">s</span> {s>}' + '' }); } } else { $("#time-bar").hide(); } });
});
jQuery(document).ready(function ($) {
    $("#core-guts").on('click', ".wish-action", function (e) {
        e.preventDefault(); var btn; if ($(this).dataExists('mbtn')) { btn = $("#" + $(this).data('mbtn')); } else { btn = $(this); }
        var pid = btn.data('pid'); var act = 'add'; if (btn.hasClass('onlist')) { act = 'drop'; }
        $.ajax({
            url: '/iofunctions/handler.php?f=wishlist' + act, data: { 'pid': pid }, dataType: "json", cache: false, crossDomain: true, success: function (robj) {
                if (typeof SHOPPERWISHITEMS !== 'undefined' && typeof robj.wishpids !== 'undefined') { SHOPPERWISHITEMS = $.map(robj.wishpids.split(','), function (n) { return parseInt(n); }); }
                if (typeof showStickyMessage === 'function') { showStickyMessage(robj.htmlmsg); }
                if (robj.success == '1') { if (act == 'drop') { btn.attr('href', btn.data('offhref')).removeClass('onlist').addClass('wish-action').find("label").html(btn.data('offtxt')); $("#" + btn.attr('id') + "-drop").hide(); } else { btn.attr('href', btn.data('onhref')).addClass('onlist').removeClass('wish-action').find("label").html(btn.data('ontxt')); $("#" + btn.attr('id') + "-drop").show(); } }
                if (MGSAPP && typeof doMacAppAction === "function") { doMacAppAction('userupdated'); }
            }
        });
    });
});
/**
 * Copyright (c) 2007 Ariel Flesler - aflesler ○ gmail • com | https://github.com/flesler
 * Licensed under MIT
 * @author Ariel Flesler
 * @version 2.1.2
 */
; (function (f) { "use strict"; "function" === typeof define && define.amd ? define(["jquery"], f) : "undefined" !== typeof module && module.exports ? module.exports = f(require("jquery")) : f(jQuery) })(function ($) { "use strict"; function n(a) { return !a.nodeName || -1 !== $.inArray(a.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]) } function h(a) { return $.isFunction(a) || $.isPlainObject(a) ? a : { top: a, left: a } } var p = $.scrollTo = function (a, d, b) { return $(window).scrollTo(a, d, b) }; p.defaults = { axis: "xy", duration: 0, limit: !0 }; $.fn.scrollTo = function (a, d, b) { "object" === typeof d && (b = d, d = 0); "function" === typeof b && (b = { onAfter: b }); "max" === a && (a = 9E9); b = $.extend({}, p.defaults, b); d = d || b.duration; var u = b.queue && 1 < b.axis.length; u && (d /= 2); b.offset = h(b.offset); b.over = h(b.over); return this.each(function () { function k(a) { var k = $.extend({}, b, { queue: !0, duration: d, complete: a && function () { a.call(q, e, b) } }); r.animate(f, k) } if (null !== a) { var l = n(this), q = l ? this.contentWindow || window : this, r = $(q), e = a, f = {}, t; switch (typeof e) { case "number": case "string": if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)) { e = h(e); break } e = l ? $(e) : $(e, q); case "object": if (e.length === 0) return; if (e.is || e.style) t = (e = $(e)).offset() }var v = $.isFunction(b.offset) && b.offset(q, e) || b.offset; $.each(b.axis.split(""), function (a, c) { var d = "x" === c ? "Left" : "Top", m = d.toLowerCase(), g = "scroll" + d, h = r[g](), n = p.max(q, c); t ? (f[g] = t[m] + (l ? 0 : h - r.offset()[m]), b.margin && (f[g] -= parseInt(e.css("margin" + d), 10) || 0, f[g] -= parseInt(e.css("border" + d + "Width"), 10) || 0), f[g] += v[m] || 0, b.over[m] && (f[g] += e["x" === c ? "width" : "height"]() * b.over[m])) : (d = e[m], f[g] = d.slice && "%" === d.slice(-1) ? parseFloat(d) / 100 * n : d); b.limit && /^\d+$/.test(f[g]) && (f[g] = 0 >= f[g] ? 0 : Math.min(f[g], n)); !a && 1 < b.axis.length && (h === f[g] ? f = {} : u && (k(b.onAfterFirst), f = {})) }); k(b.onAfter) } }) }; p.max = function (a, d) { var b = "x" === d ? "Width" : "Height", h = "scroll" + b; if (!n(a)) return a[h] - $(a)[b.toLowerCase()](); var b = "client" + b, k = a.ownerDocument || a.document, l = k.documentElement, k = k.body; return Math.max(l[h], k[h]) - Math.min(l[b], k[b]) }; $.Tween.propHooks.scrollLeft = $.Tween.propHooks.scrollTop = { get: function (a) { return $(a.elem)[a.prop]() }, set: function (a) { var d = this.get(a); if (a.options.interrupt && a._last && a._last !== d) return $(a.elem).stop(); var b = Math.round(a.now); d !== b && ($(a.elem)[a.prop](b), a._last = this.get(a)) } }; return p });
jQuery(document).ready(function ($) {
    if ($("#sysreqs-viewtabs").length) {
        $("#sysreqs-viewtabs a").click(function (e) {
            e.preventDefault(); if ($(this).hasClass('active')) { return; }
            else { $("#sysreqs-viewtabs a").removeClass('chosen'); $("#sysreqs-viewboxes div.viewbox").removeClass('active'); $(this).addClass('chosen'); $("#sysreqs-viewbox-" + $(this).data('show')).addClass('active'); }
        });
    }
});
var rig_ratingsjs = function (context) { }; var rig_ratingsbreakoutjs = function (context) { }; jQuery(document).ready(function ($) {
    var stars = 0; var pid = 0; var qid = 0; var curstars = 0; var hoverstars = 0; var hoverstring = new Array('No Comment', 'Hate It!', 'Dislike It', "It's Okay", "It's Great", 'Love It!'); rig_ratingsbreakoutjs = function (context) { if ($("#ratings-breakout", context).length) { $("#ratings-breakout span.rc1", context).css('width', $("#ratings-breakout", context).data('rc1')); $("#ratings-breakout span.rc2", context).css('width', $("#ratings-breakout", context).data('rc2')); $("#ratings-breakout span.rc3", context).css('width', $("#ratings-breakout", context).data('rc3')); $("#ratings-breakout span.rc4", context).css('width', $("#ratings-breakout", context).data('rc4')); $("#ratings-breakout span.rc5", context).css('width', $("#ratings-breakout", context).data('rc5')); } }; rig_ratingsbreakoutjs(document); rig_ratingsjs = function (context) {
        $("ul.rating-widget", context).css('display', 'block'); $("ul.rating-widget", context).each(function () { $("#id_rating-result-" + $(this).data('pid')).data('deflabel', $("#id_rating-result-" + $(this).data('pid')).html()); }); $("ul.rating-widget a", context).click(function () {
            $(this).closest(".rating-widget").find(".active").removeClass("active"); $(this).closest("li").prevAll().addClass("active"); stars = $(this).closest("li").prevAll().length + 1; pid = $(this).closest(".rating-widget").data('pid'); qid = $(this).closest(".rating-widget").data('qid'); $(this).closest(".rating-widget").data('cur', stars); $("#id_rating-result-" + pid).data('deflabel', hoverstring[stars]); if ($("#id_ReviewRating").length) { $("#id_ReviewRating").val(stars); }
            $.get("/iofunctions/handler.php", { 'f': 'setrating', 'rating': stars, 'pid': pid, 'qid': qid }, function (data) {
                $("#id_rating-result-" + pid).fadeOut("normal", function () { $("#id_rating-result-" + pid).html(data); $("#id_rating-result-" + pid).fadeIn("fast"); }); if ($("#id_product-rating-wrap-" + pid).length) { $("#id_product-rating-wrap-" + pid).fadeOut("normal", function () { $(this).html("<b>Thank you for the input!</b>"); $(this).fadeIn("normal"); }); }
                if ($("#ratings-average-container").length) { $.get("/iofunctions/handler.php", { 'f': 'ratingsavgbox', 'pid': pid }, function (data) { if (data != '') { $("#ratings-average-container").html(data); rig_ratingsbreakoutjs(context); } }); }
                if ($("#review-stars-" + pid).length) { $.get("/iofunctions/handler.php", { 'f': 'ratingstars', 'size': 'small', 'stars': stars }, function (data) { if (data != '') { $("#review-stars-" + pid).html(data); } }); }
            }); return false;
        }).hover(function () { $(this).closest(".rating-widget").find(".active").removeClass("active"); $(this).closest("li").prevAll().addClass("active"); pid = $(this).closest(".rating-widget").data('pid'); hoverstars = $(this).closest("li").prevAll().length + 1; $("#id_rating-result-" + pid).html(hoverstring[hoverstars]); }, function () {
            pid = $(this).closest(".rating-widget").data('pid'); curstars = $(this).closest(".rating-widget").data('cur'); if (curstars != 0) { $(this).closest(".rating-widget").find(".active").removeClass("active"); $(this).closest(".rating-widget").find("li:lt(" + curstars + ")").addClass("active"); } else { $(this).closest(".rating-widget").find(".active").removeClass("active"); }
            $("#id_rating-result-" + pid).html($("#id_rating-result-" + pid).data('deflabel'));
        });
    }; rig_ratingsjs(document);
});
var rig_reviewsjs = function (context) { }; var openWriteReviewBox = function (message) { }; jQuery(document).ready(function ($) {
    if (typeof imgload === 'function') { imgload('/images/stars/star-lg-full.png'); imgload('/images/stars/star-lg-grey.png'); }
    $("span.review-voter").css('display', 'inline'); $("#list-view,#reviews-list").on('click', "span.review-voter a", function () { var tochange = $(this).closest("span.review-voter"); $.get("/iofunctions/handler.php", { 'f': 'reviewvote', 'vote': $(this).data('vote'), 'rid': $(this).data('rid') }, function (data) { tochange.fadeOut('normal', function () { tochange.html(data); tochange.fadeIn('fast'); }); }); return false; }); openWriteReviewBox = function (message) {
        if ($("#rating-select").length) { $("#shopper-name").hide(); $("#rating-select .rating-widget").appendTo("#review-rating-select"); $("#rating-select .rating-result").appendTo("#review-rating-select"); $(".rating-result").html($(".rating-result").data('deflabel')); }
        if ($("#review-form").length) { $.colorbox({ transition: "none", opacity: 0.7, inline: true, href: "#write-review", maxWidth: "550", maxHeight: "95%", width: "100%", minWidth: "200", minHeight: "100", fixed: true, onOpen: function () { $("#special-message-incbox").html(message).show(); }, onCleanup: function () { if ($("#rating-select").length) { $("#review-rating-select .rating-result").appendTo("#rating-select"); $("#review-rating-select .rating-widget").appendTo("#rating-select"); } } }); }
    }; $("a.open-review-form").click(function (e) { e.preventDefault(); openWriteReviewBox(''); }); if ($("#error-reviewform").length && $("#error-reviewform").val() > 0 && $("#review-form").length) { $("#special-message-box").hide(); openWriteReviewBox($("#special-message-box").html()); }
    var checkSubmitReviewForm = function () {
        var ok = true; $("#review-form-errors span").hide(); if ($("#id_ReviewRating").val() < 1) { ok = false; $("#review-form-errors .rating").css('display', 'block'); }
        if ($("#review-title").val().length < 2) { ok = false; $("#review-form-errors .titletxt").css('display', 'block'); }
        if ($("#review-text").data("_minmet") == false) { ok = false; $("#review-form-errors .bodytxt").css('display', 'block'); }
        if (ok) { return true; }
        else { $("#special-message-incbox").html($("#review-form-errors").html()).show(); doFormEnable('id_SubmitReviewForm'); $.colorbox.resize(); return false; }
    }; var checkMinMet = function () {
        if ($("#review-text").length) {
            var numwords = $("#review-text").val().split(/\b[\s,\.-:;]*/).length; if (numwords >= 10) { $("#review-textreq").html("Word minimum met"); $("#review-text").data("_minmet", true); } else { $("#review-textreq").html("10 word minimum"); $("#review-text").data("_minmet", false); }
            if ($("#review-title").val().length > 1 && $("#review-text").data("_minmet") == true) { doFormEnable('id_SubmitReviewForm'); } else { doFormDisable('id_SubmitReviewForm'); }
        }
    }; var toggleViewRules = function () {
        if ($("#review-rules-block").length) {
            if ($("#review-rules-block").hasClass('open')) { $("#review-rules-block").removeClass('open'); } else { $("#review-rules-block").addClass('open'); }
            $.colorbox.resize();
        }
    }; rig_reviewsjs = function (context) { $("#id_SubmitReviewForm", context).submit(function () { return checkSubmitReviewForm(); }); $("#review-text", context).data("_minmet", false); $("#review-title", context).keyup(function () { checkMinMet(); }); $("#review-text", context).keyup(function () { checkMinMet(); }); $("#review-togglerules a", context).click(function (e) { e.preventDefault(); toggleViewRules(); }); checkMinMet(); }; rig_reviewsjs(document); var r_pid = 0; var r_numreviewstotal = 0; var r_numreviewsshown = 0; var r_start = 0; var r_filter = ''; var r_order = ''; if ($("#id_ReviewsPID").length) { r_pid = $("#id_ReviewsPID").val(); }
    if ($("#id_NumReviewsTotal").length) { r_numreviewstotal = $("#id_NumReviewsTotal").val(); }
    if ($("#id_NumReviewsShown").length) { r_numreviewsshown = $("#id_NumReviewsShown").val(); }
    var grabReviews = function (content) {
        $.get("/iofunctions/handler.php", { f: 'reviewsgrab', pid: r_pid, start: r_start, limit: '12', filter: r_filter, order: r_order, handler: content }, function (returnedHTML) {
            if (content == 'clean') { $("#reviews-list").html(returnedHTML); }
            if (content == 'append') {
                $("#reviews-list").css('height', $("#reviews-list").height()); $("#reviews-list").append(returnedHTML)
                $("#reviews-list").animate({ height: $("#reviews-list").get(0).scrollHeight }, 700);
            }
            $("span.review-voter").css('display', 'inline'); if (content == 'clean') { r_numreviewstotal = $("#id_NumReviewsTotal").val(); r_numreviewsshown = $("#id_NumReviewsShown").val(); }
            if (content == 'append') { r_numreviewsshown = $("div.shopper-review").length; $("#id_NumReviewsShown").val(r_numreviewsshown); }
            if (r_numreviewsshown >= r_numreviewstotal) { $("#see-more-reviews").parent().hide(); } else { $("#see-more-reviews").parent().show().css('display', 'block'); }
        });
    }; $(".reviews-filter-by").click(function () { $(".reviews-filter-by").removeClass('chosen'); $(this).addClass('chosen'); r_filter = $(this).data('fby'); r_start = parseInt(1); grabReviews('clean'); return false; }); $(".reviews-order-by").click(function () { $(".reviews-order-by").removeClass('chosen'); $(this).addClass('chosen'); r_order = $(this).data('oby'); r_start = parseInt(1); grabReviews('clean'); return false; }); $("#see-more-reviews").click(function () { r_start = parseInt(parseInt(r_numreviewsshown) + 1); grabReviews('append'); return false; });
});
